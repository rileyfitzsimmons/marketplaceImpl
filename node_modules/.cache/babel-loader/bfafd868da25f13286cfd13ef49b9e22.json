{"ast":null,"code":"var _jsxFileName = \"/Users/rileyfitzsimmons/Downloads/nftMarketplace/ethereum-boilerplate/src/components/NFTTokenIds.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useMoralis, useMoralisQuery } from \"react-moralis\";\nimport { getNativeByChain } from \"helpers/networks\";\nimport { Card, Image, Tooltip, Modal, Badge, Alert } from \"antd\";\nimport { useNFTTokenIds } from \"hooks/useNFTTokenIds\";\nimport { FileSearchOutlined, ShoppingCartOutlined, RightCircleOutlined } from \"@ant-design/icons\";\nimport { useMoralisDapp } from \"providers/MoralisDappProvider/MoralisDappProvider\";\nimport { getExplorer } from \"helpers/networks\";\nimport AddressInput from \"./AddressInput\";\nimport { getCollectionsByChain } from \"helpers/collections\";\nimport { useWeb3ExecuteFunction } from \"react-moralis\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Meta\n} = Card;\nconst styles = {\n  NFTs: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    WebkitBoxPack: \"start\",\n    justifyContent: \"flex-start\",\n    margin: \"0 auto\",\n    maxWidth: \"1000px\",\n    gap: \"10px\"\n  }\n};\n\nfunction NFTTokenIds(_ref) {\n  _s();\n\n  let {\n    inputValue,\n    setInputValue\n  } = _ref;\n  const {\n    NFTTokenIds\n  } = useNFTTokenIds(inputValue);\n  const {\n    chainId,\n    contractABI,\n    marketAddress,\n    walletAdress\n  } = useMoralisDapp();\n  const {\n    Moralis\n  } = useMoralis();\n  const [visible, setVisibility] = useState(false);\n  const nativeName = getNativeByChain(chainId);\n  const [isPending, setIsPending] = useState(false);\n  const NFTCollections = getCollectionsByChain(chainId);\n  const purchaseItemFunction = \"createMarketSale\";\n  const contractProcessor = useWeb3ExecuteFunction();\n  const [nftToBuy, setNftToBuy] = useState();\n  const queryMarketItems = useMoralisQuery(\"CreatedMarketItems\");\n  const fetchMarketItems = JSON.parse(JSON.stringify(queryMarketItems.data, [\"objectId\", \"createdAt\", \"price\", \"nftContract\", \"itemId\", \"sold\", \"tokenId\", \"seller\", \"owner\", \"confirmed\"]));\n\n  async function purchase() {\n    const tokenDetails = getMarketItem(nftToBuy);\n    const itemID = tokenDetails.itemId;\n    const tokenPrice = tokenDetails.price;\n    const ops = {\n      contractAddress: marketAddress,\n      functionName: purchaseItemFunction,\n      abi: contractABI,\n      params: {\n        nftContract: nftToBuy.token_address,\n        itemId: itemID\n      },\n      msgValue: tokenPrice\n    };\n    await contractProcessor.fetch({\n      params: ops,\n      onSuccess: () => {\n        alert(\"NFT bought\");\n        updateSoldMarketItem();\n      },\n      onError: error => {\n        alert(error);\n      }\n    });\n  }\n\n  async function updateSoldMarketItem() {\n    const id = getMarketItem(nftToBuy).objectId;\n    const marketList = Moralis.Object.extend(\"CreatedMarketItems\");\n    const query = new Moralis.Query(marketList);\n    await query.get(id).then(obj => {\n      obj.set(\"sold\", true);\n      obj.set(\"owener\", walletAdress);\n      obj.save();\n    });\n  }\n\n  async function transfer(nft, amount, receiver) {\n    const options = {\n      type: nft.contract_type,\n      tokenId: nft.token_id,\n      receiver: receiver,\n      contractAddress: nft.token_address\n    };\n\n    if (options.type === \"erc1155\") {\n      options.amount = amount;\n    }\n\n    setIsPending(true);\n    await Moralis.transfer(options).then(tx => {\n      console.log(tx);\n      setIsPending(false);\n    }).catch(e => {\n      alert(e.message);\n      setIsPending(false);\n    });\n  } //   const handleTransferClick = (nft) => {\n  //     setNftToSend(nft);\n  //     setVisibility(true);\n  //   };\n\n\n  const handleBuyClick = nft => {\n    setNftToBuy(nft);\n    setVisibility(true);\n  };\n\n  const getMarketItem = nft => {\n    const result = fetchMarketItems === null || fetchMarketItems === void 0 ? void 0 : fetchMarketItems.find(e => e.nftContract === (nft === null || nft === void 0 ? void 0 : nft.token_address) && e.tokenId === (nft === null || nft === void 0 ? void 0 : nft.token_id) && e.sold === false && e.confirmed === true);\n    return result;\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.NFTs,\n      children: [NFTTokenIds && inputValue !== \"explore\" && NFTTokenIds.map((nft, index) => /*#__PURE__*/_jsxDEV(Card, {\n        hoverable: true,\n        actions: [/*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"View On Blockexplorer\",\n          children: /*#__PURE__*/_jsxDEV(FileSearchOutlined, {\n            onClick: () => window.open(`${getExplorer(chainId)}address/${nft.token_address}`, \"_blank\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 17\n        }, this),\n        /*#__PURE__*/\n        // <Tooltip title=\"Transfer NFT\">\n        //   <SendOutlined onClick={() => handleTransferClick(nft)} />\n        // </Tooltip>,\n        _jsxDEV(Tooltip, {\n          title: \"Buy NFT\",\n          children: /*#__PURE__*/_jsxDEV(ShoppingCartOutlined, {\n            onClick: () => handleBuyClick(nft)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 17\n        }, this)],\n        style: {\n          width: 240,\n          border: \"2px solid #e7eaf3\"\n        },\n        cover: /*#__PURE__*/_jsxDEV(Image, {\n          preview: false,\n          src: (nft === null || nft === void 0 ? void 0 : nft.image) || \"error\",\n          fallback: \"data:image/png;base64,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\",\n          alt: \"\",\n          style: {\n            height: \"300px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 17\n        }, this),\n        children: [getMarketItem(nft) && /*#__PURE__*/_jsxDEV(Badge.Ribbon, {\n          text: \"Buy Now\",\n          color: \"green\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Meta, {\n          title: nft.name,\n          description: `#${nft.token_id}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }, this)), NFTCollections && inputValue === \"explore\" && NFTCollections.map((nft, index) => /*#__PURE__*/_jsxDEV(Card, {\n        hoverable: true,\n        actions: [/*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"View This Collection\",\n          children: /*#__PURE__*/_jsxDEV(RightCircleOutlined, {\n            onClick: () => setInputValue(nft.addrs)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 17\n        }, this)],\n        style: {\n          width: 240,\n          border: \"2px solid #e7eaf3\"\n        },\n        cover: /*#__PURE__*/_jsxDEV(Image, {\n          preview: false,\n          src: (nft === null || nft === void 0 ? void 0 : nft.image) || \"error\",\n          fallback: \"data:image/png;base64,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\",\n          alt: \"\",\n          style: {\n            height: \"300px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 17\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(Meta, {\n          title: nft.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 15\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this), getMarketItem(nftToBuy) ? /*#__PURE__*/_jsxDEV(Modal, {\n      title: `Transfer ${(nftToBuy === null || nftToBuy === void 0 ? void 0 : nftToBuy.name) || \"NFT\"}`,\n      visible: visible,\n      onCancel: () => setVisibility(false),\n      onOk: () => purchase(),\n      confirmLoading: isPending,\n      okText: \"Buy\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"250px\",\n          margin: \"auto\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Badge.Ribbon, {\n          text: `${getMarketItem(nftToBuy).price / (\"1e\" + 18)} ${nativeName}`,\n          color: \"green\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: nftToBuy === null || nftToBuy === void 0 ? void 0 : nftToBuy.image,\n          style: {\n            width: \"250px\",\n            margin: \"auto\",\n            borderRadius: \"10px\",\n            marginBottom: \"15px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Modal, {\n      title: `Transfer ${(nftToBuy === null || nftToBuy === void 0 ? void 0 : nftToBuy.name) || \"NFT\"}`,\n      visible: visible,\n      onCancel: () => setVisibility(false),\n      onOk: () => setVisibility(false),\n      confirmLoading: isPending,\n      okText: \"Ok\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: nftToBuy === null || nftToBuy === void 0 ? void 0 : nftToBuy.image,\n        style: {\n          width: \"250px\",\n          margin: \"auto\",\n          borderRadius: \"10px\",\n          marginBottom: \"15px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Alert, {\n        message: \"This NFT is not available for sale\",\n        type: \"warning\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(NFTTokenIds, \"SLHORctIf0QIVLVADY+EItowk+c=\", false, function () {\n  return [useNFTTokenIds, useMoralisDapp, useMoralis, useWeb3ExecuteFunction, useMoralisQuery];\n});\n\n_c = NFTTokenIds;\nexport default NFTTokenIds;\n\nvar _c;\n\n$RefreshReg$(_c, \"NFTTokenIds\");","map":{"version":3,"sources":["/Users/rileyfitzsimmons/Downloads/nftMarketplace/ethereum-boilerplate/src/components/NFTTokenIds.jsx"],"names":["React","useState","useMoralis","useMoralisQuery","getNativeByChain","Card","Image","Tooltip","Modal","Badge","Alert","useNFTTokenIds","FileSearchOutlined","ShoppingCartOutlined","RightCircleOutlined","useMoralisDapp","getExplorer","AddressInput","getCollectionsByChain","useWeb3ExecuteFunction","Meta","styles","NFTs","display","flexWrap","WebkitBoxPack","justifyContent","margin","maxWidth","gap","NFTTokenIds","inputValue","setInputValue","chainId","contractABI","marketAddress","walletAdress","Moralis","visible","setVisibility","nativeName","isPending","setIsPending","NFTCollections","purchaseItemFunction","contractProcessor","nftToBuy","setNftToBuy","queryMarketItems","fetchMarketItems","JSON","parse","stringify","data","purchase","tokenDetails","getMarketItem","itemID","itemId","tokenPrice","price","ops","contractAddress","functionName","abi","params","nftContract","token_address","msgValue","fetch","onSuccess","alert","updateSoldMarketItem","onError","error","id","objectId","marketList","Object","extend","query","Query","get","then","obj","set","save","transfer","nft","amount","receiver","options","type","contract_type","tokenId","token_id","tx","console","log","catch","e","message","handleBuyClick","result","find","sold","confirmed","map","index","window","open","width","border","image","height","name","addrs","borderRadius","marginBottom"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useMoralis, useMoralisQuery } from \"react-moralis\";\r\nimport { getNativeByChain } from \"helpers/networks\";\r\nimport { Card, Image, Tooltip, Modal, Badge, Alert } from \"antd\";\r\nimport { useNFTTokenIds } from \"hooks/useNFTTokenIds\";\r\nimport {\r\n  FileSearchOutlined,\r\n  ShoppingCartOutlined,\r\n  RightCircleOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { useMoralisDapp } from \"providers/MoralisDappProvider/MoralisDappProvider\";\r\nimport { getExplorer } from \"helpers/networks\";\r\nimport AddressInput from \"./AddressInput\";\r\nimport { getCollectionsByChain } from \"helpers/collections\";\r\nimport { useWeb3ExecuteFunction } from \"react-moralis\";\r\nconst { Meta } = Card;\r\n\r\nconst styles = {\r\n  NFTs: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    WebkitBoxPack: \"start\",\r\n    justifyContent: \"flex-start\",\r\n    margin: \"0 auto\",\r\n    maxWidth: \"1000px\",\r\n    gap: \"10px\",\r\n  },\r\n};\r\n\r\nfunction NFTTokenIds({ inputValue, setInputValue }) {\r\n  const { NFTTokenIds } = useNFTTokenIds(inputValue);\r\n  const { chainId, contractABI, marketAddress, walletAdress } =\r\n    useMoralisDapp();\r\n  const { Moralis } = useMoralis();\r\n  const [visible, setVisibility] = useState(false);\r\n  const nativeName = getNativeByChain(chainId);\r\n  const [isPending, setIsPending] = useState(false);\r\n  const NFTCollections = getCollectionsByChain(chainId);\r\n  const purchaseItemFunction = \"createMarketSale\";\r\n  const contractProcessor = useWeb3ExecuteFunction();\r\n  const [nftToBuy, setNftToBuy] = useState();\r\n  const queryMarketItems = useMoralisQuery(\"CreatedMarketItems\");\r\n  const fetchMarketItems = JSON.parse(\r\n    JSON.stringify(queryMarketItems.data, [\r\n      \"objectId\",\r\n      \"createdAt\",\r\n      \"price\",\r\n      \"nftContract\",\r\n      \"itemId\",\r\n      \"sold\",\r\n      \"tokenId\",\r\n      \"seller\",\r\n      \"owner\",\r\n      \"confirmed\",\r\n    ])\r\n  );\r\n\r\n  async function purchase() {\r\n    const tokenDetails = getMarketItem(nftToBuy);\r\n    const itemID = tokenDetails.itemId;\r\n    const tokenPrice = tokenDetails.price;\r\n    const ops = {\r\n      contractAddress: marketAddress,\r\n      functionName: purchaseItemFunction,\r\n      abi: contractABI,\r\n      params: {\r\n        nftContract: nftToBuy.token_address,\r\n        itemId: itemID,\r\n      },\r\n      msgValue: tokenPrice,\r\n    };\r\n\r\n    await contractProcessor.fetch({\r\n      params: ops,\r\n      onSuccess: () => {\r\n        alert(\"NFT bought\");\r\n        updateSoldMarketItem();\r\n      },\r\n      onError: (error) => {\r\n        alert(error);\r\n      },\r\n    });\r\n  }\r\n\r\n  async function updateSoldMarketItem() {\r\n    const id = getMarketItem(nftToBuy).objectId;\r\n    const marketList = Moralis.Object.extend(\"CreatedMarketItems\");\r\n    const query = new Moralis.Query(marketList);\r\n    await query.get(id).then((obj) => {\r\n      obj.set(\"sold\", true);\r\n      obj.set(\"owener\", walletAdress);\r\n      obj.save();\r\n    });\r\n  }\r\n\r\n  async function transfer(nft, amount, receiver) {\r\n    const options = {\r\n      type: nft.contract_type,\r\n      tokenId: nft.token_id,\r\n      receiver: receiver,\r\n      contractAddress: nft.token_address,\r\n    };\r\n\r\n    if (options.type === \"erc1155\") {\r\n      options.amount = amount;\r\n    }\r\n\r\n    setIsPending(true);\r\n    await Moralis.transfer(options)\r\n      .then((tx) => {\r\n        console.log(tx);\r\n        setIsPending(false);\r\n      })\r\n      .catch((e) => {\r\n        alert(e.message);\r\n        setIsPending(false);\r\n      });\r\n  }\r\n\r\n  //   const handleTransferClick = (nft) => {\r\n  //     setNftToSend(nft);\r\n  //     setVisibility(true);\r\n  //   };\r\n\r\n  const handleBuyClick = (nft) => {\r\n    setNftToBuy(nft);\r\n    setVisibility(true);\r\n  };\r\n\r\n  const getMarketItem = (nft) => {\r\n    const result = fetchMarketItems?.find(\r\n      (e) =>\r\n        e.nftContract === nft?.token_address &&\r\n        e.tokenId === nft?.token_id &&\r\n        e.sold === false &&\r\n        e.confirmed === true\r\n    );\r\n    return result;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={styles.NFTs}>\r\n        {NFTTokenIds &&\r\n          inputValue !== \"explore\" &&\r\n          NFTTokenIds.map((nft, index) => (\r\n            <Card\r\n              hoverable\r\n              actions={[\r\n                <Tooltip title=\"View On Blockexplorer\">\r\n                  <FileSearchOutlined\r\n                    onClick={() =>\r\n                      window.open(\r\n                        `${getExplorer(chainId)}address/${nft.token_address}`,\r\n                        \"_blank\"\r\n                      )\r\n                    }\r\n                  />\r\n                </Tooltip>,\r\n                // <Tooltip title=\"Transfer NFT\">\r\n                //   <SendOutlined onClick={() => handleTransferClick(nft)} />\r\n                // </Tooltip>,\r\n                <Tooltip title=\"Buy NFT\">\r\n                  <ShoppingCartOutlined onClick={() => handleBuyClick(nft)} />\r\n                </Tooltip>,\r\n              ]}\r\n              style={{ width: 240, border: \"2px solid #e7eaf3\" }}\r\n              cover={\r\n                <Image\r\n                  preview={false}\r\n                  src={nft?.image || \"error\"}\r\n                  fallback=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==\"\r\n                  alt=\"\"\r\n                  style={{ height: \"300px\" }}\r\n                />\r\n              }\r\n              key={index}\r\n            >\r\n              {getMarketItem(nft) && (\r\n                <Badge.Ribbon text=\"Buy Now\" color=\"green\" />\r\n              )}\r\n              <Meta title={nft.name} description={`#${nft.token_id}`} />\r\n            </Card>\r\n          ))}\r\n\r\n        {NFTCollections &&\r\n          inputValue === \"explore\" &&\r\n          NFTCollections.map((nft, index) => (\r\n            <Card\r\n              hoverable\r\n              actions={[\r\n                <Tooltip title=\"View This Collection\">\r\n                  <RightCircleOutlined\r\n                    onClick={() => setInputValue(nft.addrs)}\r\n                  />\r\n                </Tooltip>,\r\n              ]}\r\n              style={{ width: 240, border: \"2px solid #e7eaf3\" }}\r\n              cover={\r\n                <Image\r\n                  preview={false}\r\n                  src={nft?.image || \"error\"}\r\n                  fallback=\"data:image/png;base64,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\"\r\n                  alt=\"\"\r\n                  style={{ height: \"300px\" }}\r\n                />\r\n              }\r\n              key={index}\r\n            >\r\n              <Meta title={nft.name} />\r\n            </Card>\r\n          ))}\r\n      </div>\r\n      {getMarketItem(nftToBuy) ? (\r\n        <Modal\r\n          title={`Transfer ${nftToBuy?.name || \"NFT\"}`}\r\n          visible={visible}\r\n          onCancel={() => setVisibility(false)}\r\n          onOk={() => purchase()}\r\n          confirmLoading={isPending}\r\n          okText=\"Buy\"\r\n        >\r\n          <div\r\n            style={{\r\n              width: \"250px\",\r\n              margin: \"auto\",\r\n            }}\r\n          >\r\n            <Badge.Ribbon\r\n              text={`${\r\n                getMarketItem(nftToBuy).price / (\"1e\" + 18)\r\n              } ${nativeName}`}\r\n              color=\"green\"\r\n            />\r\n            <img\r\n              src={nftToBuy?.image}\r\n              style={{\r\n                width: \"250px\",\r\n                margin: \"auto\",\r\n                borderRadius: \"10px\",\r\n                marginBottom: \"15px\",\r\n              }}\r\n            />\r\n          </div>\r\n        </Modal>\r\n      ) : (\r\n        <Modal\r\n          title={`Transfer ${nftToBuy?.name || \"NFT\"}`}\r\n          visible={visible}\r\n          onCancel={() => setVisibility(false)}\r\n          onOk={() => setVisibility(false)}\r\n          confirmLoading={isPending}\r\n          okText=\"Ok\"\r\n        >\r\n          <img\r\n            src={nftToBuy?.image}\r\n            style={{\r\n              width: \"250px\",\r\n              margin: \"auto\",\r\n              borderRadius: \"10px\",\r\n              marginBottom: \"15px\",\r\n            }}\r\n          />\r\n          <Alert message=\"This NFT is not available for sale\" type=\"warning\" />\r\n        </Modal>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NFTTokenIds;\r\n"]},"metadata":{},"sourceType":"module"}